let paddingValue;window.onload=function(){setTimeout((()=>{document.body.classList.add("loaded"),document.body.classList.remove("no-scroll"),paddingValue=window.innerWidth>325?window.innerWidth-document.documentElement.clientWidth+"px":0}),1100)};const breadCrumbs=document.querySelector(".breadcrumbs"),header=document.querySelector(".header"),menuMobileBtn=document.querySelector(".menu-mobile__btn"),menuMobile=document.querySelector(".menu-mobile"),iconMenu=document.querySelector(".icon-menu"),mobileNavItem=document.querySelectorAll(".navmenu-mobile__item"),pagesHero=document.querySelector(".pages-hero__container"),fixedBlocks=document.querySelectorAll(".fixed-block"),feedbackBtn=document.querySelectorAll(".feedback-btn"),modal=document.querySelectorAll(".modal"),feedbackModal=document.querySelector(".feedback-modal"),successModal=document.querySelector(".success-modal"),errorModal=document.querySelector(".error-modal"),customSelect=document.querySelectorAll(".select-custom");function smoothDrop(e,t){if(e.classList.contains("active"))t.style.height="0px";else{t.style.height="auto";let e=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=e}),0)}e.classList.toggle("active")}function openModal(e){document.querySelector(".icon-menu").classList.contains("active")||(fixedBlocks&&addPaddingToFixedEl(fixedBlocks),document.body.style.paddingRight=paddingValue,document.body.classList.add("no-scroll")),e.classList.add("open"),setTimeout((()=>{e.querySelector(".modal__inner").classList.add("open")}),30)}function closeModal(e){e.querySelector(".modal__inner").classList.remove("open"),setTimeout((()=>{document.querySelector(".icon-menu").classList.contains("active")||(fixedBlocks&&removePaddingOfFixedEl(fixedBlocks),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll")),e.classList.remove("open")}),500)}function formSuccess(e){e.querySelectorAll(".item-form").forEach((e=>{e.classList.remove("error"),e.querySelector("[data-error]")&&(e.querySelector("[data-error]").textContent="")})),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__item")&&e.querySelectorAll(".file-form__item").forEach((e=>e.remove()))}function openSelectCustom(e){e.classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".select-custom__option").forEach((t=>{t.addEventListener("click",(o=>{e.querySelectorAll(".select-custom__option").forEach((e=>e.classList.remove("selected"))),t.classList.add("selected"),e.querySelector(".select-custom__selected").textContent=t.textContent,closeSelectCustom(e)}))})),document.addEventListener("click",(function t(o){e.contains(o.target)||(closeSelectCustom(e),document.removeEventListener("click",t))}))}function closeSelectCustom(e){e.classList.remove("open"),e.setAttribute("aria-expanded",!1)}modal.forEach((e=>{const t=e.querySelector(".modal__content");e.querySelector(".modal__close").addEventListener("click",(t=>{closeModal(e)})),e.addEventListener("click",(o=>{t.contains(o.target)||closeModal(e)}))})),customSelect&&customSelect.forEach((e=>{e.querySelector(".select-custom__selected").addEventListener("click",(()=>{e.classList.contains("open")?closeSelectCustom(e):openSelectCustom(e)}))}));const appImages=document.querySelectorAll(".file-images"),appImg=document.querySelectorAll(".file-images .media-cover");appImages&&appImages.forEach((e=>{appImg.length>2&&e.insertAdjacentHTML("beforeend",`<button class="btn">+${appImg.length-2}</button>`),e.querySelector(".btn").addEventListener("click",(e=>{e.preventDefault(),appImg[2].click()}))}));const inp=document.querySelectorAll("input[type=tel]");function disEnFormBtn(e){e.querySelector(".item-form.error")?e.querySelector(".main-btn").classList.add("disabled"):e.querySelector(".main-btn").classList.remove("disabled")}inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));const form=document.querySelectorAll(".form");form&&form.forEach((e=>{disEnFormBtn(e),e.querySelector(".main-btn").addEventListener("click",(t=>{setTimeout(disEnFormBtn(e),0)})),e.querySelectorAll(".item-form").forEach((t=>{t.querySelector("input")&&t.querySelector("input").addEventListener("change",(()=>{t.classList.remove("error"),t.querySelector("[data-error]")&&(t.querySelector("[data-error]").textContent=""),disEnFormBtn(e)}))}))}));let fileTypes=["image/png","image/jpeg","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.querySelectorAll(".file-form__item").forEach((e=>e.remove()));let o=t.target.files;for(let t=0;t<o.length;t++){let l=o[t];if(l.size>10485760)e.querySelector("input").value="",e.classList.add("error"),e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),e.querySelector("[data-error]").textContent="Файл должен быть менее 10 МБ";else if(fileTypes.includes(l.type))if(e.classList.remove("error"),e.querySelector("[data-error]").textContent="",["image/jpeg","image/png"].includes(l.type)){let t=new FileReader;t.readAsDataURL(l),t.onload=()=>{e.querySelector(".file-form__images").innerHTML+=`<div class="file-form__item file-form__image">\n            <img src=${t.result} alt="">\n            <div class="file-form__del"></div>\n           </div>\n          `},t.onerror=()=>{console.log(t.error)}}else e.querySelector(".file-form__files").innerHTML+=`<div class="file-form__item file-form__file">\n          <div class="file-form__name">${l.name}</div>\n          <div class="file-form__del"></div>\n          </div>`;else e.querySelector("input").value="",e.classList.add("error"),e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),e.querySelector("[data-error]").textContent="Разрешённые форматы: doc,docx,pdf,xls,xlsx,jpg,png"}})),e.addEventListener("click",(t=>{e.querySelectorAll(".file-form__del").forEach(((o,l)=>{if(o.contains(t.target)){const t=new DataTransfer,r=e.querySelector("input"),{files:c}=r;for(let e=0;e<c.length;e++){let o=c[e];e!==l&&t.items.add(o)}r.files=t.files,o.parentNode.remove()}}))}))}));