function formSuccess(e){e.querySelectorAll(".item-form").forEach((e=>{e.classList.remove("error"),e.querySelector("[data-error]")&&(e.querySelector("[data-error]").textContent="")})),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__item")&&e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),showInfo(e,"hhhhh","error","/")}const appImages=document.querySelectorAll(".file-images"),appImg=document.querySelectorAll(".file-images .media-cover");appImages&&appImages.forEach((e=>{appImg.length>2&&(e.insertAdjacentHTML("beforeend",`<button class="btn">+${appImg.length-2}</button>`),e.querySelector(".btn").addEventListener("click",(e=>{e.preventDefault(),appImg[2].click()})))}));const inp=document.querySelectorAll("input[type=tel]");function disEnFormBtn(e){e.querySelector(".item-form.error")?e.querySelector(".main-btn").classList.add("disabled"):e.querySelector(".main-btn").classList.remove("disabled")}inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));const form=document.querySelectorAll(".form");form&&form.forEach((e=>{disEnFormBtn(e),e.addEventListener("submit",(t=>{setTimeout(disEnFormBtn(e),0)})),e.querySelectorAll(".item-form").forEach((t=>{t.querySelector("input")&&t.querySelector("input").addEventListener("change",(()=>{t.classList.remove("error"),t.querySelector("[data-error]")&&(t.querySelector("[data-error]").textContent=""),disEnFormBtn(e)}))}))}));let fileTypes=["image/png","image/jpeg","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.querySelectorAll(".file-form__item").forEach((e=>e.remove()));let r=t.target.files;for(let t=0;t<r.length;t++){let o=r[t];if(o.size>10485760)e.querySelector("input").value="",e.classList.add("error"),e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),e.querySelector("[data-error]").textContent="Файл должен быть менее 10 МБ";else if(fileTypes.includes(o.type))if(e.classList.remove("error"),e.querySelector("[data-error]").textContent="",["image/jpeg","image/png"].includes(o.type)){let t=new FileReader;t.readAsDataURL(o),t.onload=()=>{e.querySelector(".file-form__images").innerHTML+=`<div class="file-form__item file-form__image">\n            <img src=${t.result} alt="">\n            <div class="file-form__del"></div>\n           </div>\n          `},t.onerror=()=>{console.log(t.error)}}else e.querySelector(".file-form__files").innerHTML+=`<div class="file-form__item file-form__file">\n          <div class="file-form__name">${o.name}</div>\n          <div class="file-form__del"></div>\n          </div>`;else e.querySelector("input").value="",e.classList.add("error"),e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),e.querySelector("[data-error]").textContent="Разрешённые форматы: doc,docx,pdf,xls,xlsx,jpg,png"}})),e.addEventListener("click",(t=>{e.querySelectorAll(".file-form__del").forEach(((r,o)=>{if(r.contains(t.target)){const t=new DataTransfer,n=e.querySelector("input"),{files:a}=n;for(let e=0;e<a.length;e++){let r=a[e];e!==o&&t.items.add(r)}n.files=t.files,r.parentNode.remove()}}))}))}));let contact=document.querySelectorAll(".item-blocks__col .contact_block");if(contact){function setContactHeight(){contact.forEach((e=>{e.parentNode.querySelector(".item-block__footer").style.marginTop=e.clientHeight+32+"px"}))}setContactHeight(),window.addEventListener("resize",setContactHeight)}function showInfo(e,t=!1,r,o){document.querySelector(".page").classList.add("response");let n=e.getAttribute("id");const a=document.querySelector(".page .page__inner");switch(!0){case"application"==n&&"success"==r:a.innerHTML=`\n        <div class="response__content">\n          <span>Спасибо!</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${o} class="btn main-btn">К заявкам</a>\n        </div>\n      `;break;case"application"==n&&"error"==r:a.innerHTML=`\n        <div class="response__content error">\n          <span>Что-то пошло<br>не так</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${window.location.href} class="btn stroke-btn">Разместить заявку снова</a>\n          <a href=${o} class="btn main-btn">К заявкам</a>\n        </div>\n      `;break;case"subscribe"==n&&"success"==r:a.innerHTML=`\n        <div class="response__content">\n          <span>Вы подписались!</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${o} class="btn main-btn">К объявлениям</a>\n        </div>\n      `;break;case"unsubscribe"==n&&"success"==r:a.innerHTML=`\n        <div class="response__content">\n          <span>Вы отписаны<br>от рассылок</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${o} class="btn main-btn">К объявлениям</a>\n        </div>\n      `;break;case("subscribe"==n||"unsubscribe"==n)&&"error"==r:a.innerHTML=`\n        <div class="response__content error">\n          <span>Что-то пошло<br>не так</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${o} class="btn main-btn">К объявлениям</a>\n        </div>\n      `;break;default:document.querySelector(".page").classList.remove("response")}}const passwordBtn=document.querySelectorAll(".password-eye");function tabSwitch(e,t){e.forEach(((r,o)=>{r.addEventListener("click",(()=>{r.getAttribute("data-nav");e.forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{e.classList.remove("active")})),r.classList.add("active"),t[o].classList.add("active"),r.style.opacity="0",t[o].style.opacity="0",setTimeout((()=>{r.style.opacity="1",t[o].style.opacity="1"}),0)}))}))}passwordBtn&&passwordBtn.forEach((e=>{e.addEventListener("click",(()=>{let t=e.parentNode;t.classList.toggle("show"),t.classList.contains("show")?t.querySelector("input").type="text":t.querySelector("input").type="password"}))}));const profileNav=document.querySelectorAll(".profile__tabs [data-nav]"),profileBlock=document.querySelectorAll(".profile__blocks [data-block]");profileNav&&profileBlock&&tabSwitch(profileNav,profileBlock);