function formSuccess(e){e.querySelectorAll(".item-form").forEach((e=>{e.classList.remove("error"),e.querySelector("[data-error]")&&(e.querySelector("[data-error]").textContent="")})),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__item")&&e.querySelectorAll(".file-form__item").forEach((e=>e.remove()))}const appImages=document.querySelectorAll(".file-images"),appImg=document.querySelectorAll(".file-images .media-cover");appImages&&appImages.forEach((e=>{appImg.length>2&&(e.insertAdjacentHTML("beforeend",`<button class="btn">+${appImg.length-2}</button>`),e.querySelector(".btn").addEventListener("click",(e=>{e.preventDefault(),appImg[2].click()})))}));const inp=document.querySelectorAll("input[type=tel]");function disEnFormBtn(e){e.querySelector(".item-form.error")?e.querySelector(".main-btn").classList.add("disabled"):e.querySelector(".main-btn").classList.remove("disabled")}inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));const form=document.querySelectorAll(".form");form&&form.forEach((e=>{disEnFormBtn(e),e.addEventListener("submit",(t=>{setTimeout(disEnFormBtn(e),0)})),e.querySelectorAll(".item-form").forEach((t=>{t.querySelector("input")&&t.querySelector("input").addEventListener("change",(()=>{t.classList.remove("error"),t.querySelector("[data-error]")&&(t.querySelector("[data-error]").textContent=""),disEnFormBtn(e)}))}))}));let fileTypes=["image/png","image/jpeg","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.querySelectorAll(".file-form__item").forEach((e=>e.remove()));let o=t.target.files;for(let t=0;t<o.length;t++){let r=o[t];if(r.size>10485760)e.querySelector("input").value="",e.classList.add("error"),e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),e.querySelector("[data-error]").textContent="Файл должен быть менее 10 МБ";else if(fileTypes.includes(r.type))if(e.classList.remove("error"),e.querySelector("[data-error]").textContent="",["image/jpeg","image/png"].includes(r.type)){let t=new FileReader;t.readAsDataURL(r),t.onload=()=>{e.querySelector(".file-form__images").innerHTML+=`<div class="file-form__item file-form__image">\n            <img src=${t.result} alt="">\n            <div class="file-form__del"></div>\n           </div>\n          `},t.onerror=()=>{console.log(t.error)}}else e.querySelector(".file-form__files").innerHTML+=`<div class="file-form__item file-form__file">\n          <div class="file-form__name">${r.name}</div>\n          <div class="file-form__del"></div>\n          </div>`;else e.querySelector("input").value="",e.classList.add("error"),e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),e.querySelector("[data-error]").textContent="Разрешённые форматы: doc,docx,pdf,xls,xlsx,jpg,png"}})),e.addEventListener("click",(t=>{e.querySelectorAll(".file-form__del").forEach(((o,r)=>{if(o.contains(t.target)){const t=new DataTransfer,n=e.querySelector("input"),{files:a}=n;for(let e=0;e<a.length;e++){let o=a[e];e!==r&&t.items.add(o)}n.files=t.files,o.parentNode.remove()}}))}))}));let contact=document.querySelectorAll(".item-blocks__col .contact_block");if(contact){function setContactHeight(){contact.forEach((e=>{e.parentNode.querySelector(".item-block__footer").style.marginTop=e.clientHeight+32+"px"}))}setContactHeight(),window.addEventListener("resize",setContactHeight)}function showInfo(e,t=!1,o,r){document.querySelector(".page").classList.add("response");const n=document.querySelector(".page .page__inner");switch(!0){case"application"==e&&"success"==o:n.innerHTML=`\n        <div class="response__content">\n          <span>Спасибо!</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${r} class="btn main-btn">К заявкам</a>\n        </div>\n      `;break;case"application"==e&&"error"==o:n.innerHTML=`\n        <div class="response__content error">\n          <span>Что-то пошло<br>не так</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${window.location.href} class="btn stroke-btn">Разместить заявку снова</a>\n          <a href=${r} class="btn main-btn">К заявкам</a>\n        </div>\n      `;break;case"subscribe"==e&&"success"==o:n.innerHTML=`\n        <div class="response__content">\n          <span>Вы подписались!</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${r} class="btn main-btn">К объявлениям</a>\n        </div>\n      `;break;case"unsubscribe"==e&&"success"==o:n.innerHTML=`\n        <div class="response__content">\n          <span>Вы отписаны<br>от рассылок</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${r} class="btn main-btn">К объявлениям</a>\n        </div>\n      `;break;case("subscribe"==e||"unsubscribe"==e)&&"error"==o:n.innerHTML=`\n        <div class="response__content error">\n          <span>Что-то пошло<br>не так</span>\n          ${!1!==t?`<p>${t}</p>`:""}\n          <a href=${r} class="btn main-btn">К объявлениям</a>\n        </div>\n      `;break;default:document.querySelector(".page").classList.remove("response")}}const passwordBtn=document.querySelectorAll(".password-eye");function tabSwitch(e,t){e.forEach(((o,r)=>{o.addEventListener("click",(()=>{o.getAttribute("data-nav");e.forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{e.classList.remove("active")})),o.classList.add("active"),t[r].classList.add("active"),o.style.opacity="0",t[r].style.opacity="0",setTimeout((()=>{o.style.opacity="1",t[r].style.opacity="1"}),0)}))}))}passwordBtn&&passwordBtn.forEach((e=>{e.addEventListener("click",(()=>{let t=e.parentNode;t.classList.toggle("show"),t.classList.contains("show")?t.querySelector("input").type="text":t.querySelector("input").type="password"}))}));const profileNav=document.querySelectorAll(".profile__tabs [data-nav]"),profileBlock=document.querySelectorAll(".profile__blocks [data-block]");profileNav&&profileBlock&&tabSwitch(profileNav,profileBlock);const appNav=document.querySelectorAll(".applications [data-nav]"),appBlock=document.querySelectorAll(".applications [data-block]");function openSelectCustom(e){e.classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".select-custom__options input").forEach((t=>{t.addEventListener("change",(t=>{setActiveOption(e),closeSelectCustom(e)}))})),document.addEventListener("click",(function t(o){e.contains(o.target)||(closeSelectCustom(e),document.removeEventListener("click",t))}))}function setActiveOption(e){let t=e.querySelector("input:checked").nextElementSibling.innerHTML;e.querySelector(".select-custom__selected span").innerHTML=t}function closeSelectCustom(e){e.classList.remove("open"),e.setAttribute("aria-expanded",!1)}appNav&&appBlock&&tabSwitch(appNav,appBlock);const customSelect=document.querySelectorAll(".select-custom");customSelect&&customSelect.forEach((e=>{e.querySelector(".select-custom__selected").addEventListener("click",(()=>{e.classList.contains("open")?closeSelectCustom(e):openSelectCustom(e)}))}));const appShare=document.querySelector(".application__share");if(appShare){let e="https://t.me/share/url?url="+encodeURIComponent(window.location.href)+"&text="+encodeURIComponent(document.title);appShare.querySelector("a").setAttribute("href",e)}$(document).ready((function(){$("#app-table").addClass("nowrap").dataTable({responsive:!0,language:{processing:"Подождите...",search:"Поиск:",lengthMenu:"Показать _MENU_ записей",info:"Записи с _START_ до _END_ из _TOTAL_ записей",infoEmpty:"Записи с 0 до 0 из 0 записей",infoFiltered:"(отфильтровано из _MAX_ записей)",loadingRecords:"Загрузка записей...",zeroRecords:"Записи отсутствуют.",emptyTable:"В таблице отсутствуют данные",paginate:{first:"Первая",previous:"Предыдущая",next:"Следующая",last:"Последняя"},aria:{sortAscending:": активировать для сортировки столбца по возрастанию",sortDescending:": активировать для сортировки столбца по убыванию"},select:{rows:{_:"Выбрано записей: %d",1:"Выбрана одна запись"},cells:{_:"Выбрано %d ячеек",1:"Выбрана 1 ячейка "},columns:{1:"Выбран 1 столбец ",_:"Выбрано %d столбцов "}},searchBuilder:{conditions:{string:{startsWith:"Начинается с",contains:"Содержит",empty:"Пусто",endsWith:"Заканчивается на",equals:"Равно",not:"Не",notEmpty:"Не пусто",notContains:"Не содержит",notStartsWith:"Не начинается на",notEndsWith:"Не заканчивается на"},date:{after:"После",before:"До",between:"Между",empty:"Пусто",equals:"Равно",not:"Не",notBetween:"Не между",notEmpty:"Не пусто"},number:{empty:"Пусто",equals:"Равно",gt:"Больше чем",gte:"Больше, чем равно",lt:"Меньше чем",lte:"Меньше, чем равно",not:"Не",notEmpty:"Не пусто",between:"Между",notBetween:"Не между ними"},array:{equals:"Равно",empty:"Пусто",contains:"Содержит",not:"Не равно",notEmpty:"Не пусто",without:"Без"}},data:"Данные",deleteTitle:"Удалить условие фильтрации",logicAnd:"И",logicOr:"Или",title:{0:"Конструктор поиска",_:"Конструктор поиска (%d)"},value:"Значение",add:"Добавить условие",button:{0:"Конструктор поиска",_:"Конструктор поиска (%d)"},clearAll:"Очистить всё",condition:"Условие",leftTitle:"Превосходные критерии",rightTitle:"Критерии отступа"},searchPanes:{clearMessage:"Очистить всё",collapse:{0:"Панели поиска",_:"Панели поиска (%d)"},count:"{total}",countFiltered:"{shown} ({total})",emptyPanes:"Нет панелей поиска",loadMessage:"Загрузка панелей поиска",title:"Фильтры активны - %d",showMessage:"Показать все",collapseMessage:"Скрыть все"},buttons:{pdf:"PDF",print:"Печать",collection:'Коллекция <span class="ui-button-icon-primary ui-icon ui-icon-triangle-1-s"></span>',colvis:"Видимость столбцов",colvisRestore:"Восстановить видимость",copy:"Копировать",copyTitle:"Скопировать в буфер обмена",csv:"CSV",excel:"Excel",pageLength:{"-1":"Показать все строки",_:"Показать %d строк",1:"Показать 1 строку"},removeState:"Удалить",renameState:"Переименовать",copySuccess:{1:"Строка скопирована в буфер обмена",_:"Скопировано %d строк в буфер обмена"},createState:"Создать состояние",removeAllStates:"Удалить все состояния",savedStates:"Сохраненные состояния",stateRestore:"Состояние %d",updateState:"Обновить",copyKeys:"Нажмите ctrl  или u2318 + C, чтобы скопировать данные таблицы в буфер обмена.  Для отмены, щелкните по сообщению или нажмите escape."},decimal:".",infoThousands:",",autoFill:{cancel:"Отменить",fill:"Заполнить все ячейки <i>%d<i></i></i>",fillHorizontal:"Заполнить ячейки по горизонтали",fillVertical:"Заполнить ячейки по вертикали",info:"Информация"},datetime:{previous:"Предыдущий",next:"Следующий",hours:"Часы",minutes:"Минуты",seconds:"Секунды",unknown:"Неизвестный",amPm:["AM","PM"],months:{0:"Январь",1:"Февраль",10:"Ноябрь",11:"Декабрь",2:"Март",3:"Апрель",4:"Май",5:"Июнь",6:"Июль",7:"Август",8:"Сентябрь",9:"Октябрь"},weekdays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},editor:{close:"Закрыть",create:{button:"Новый",title:"Создать новую запись",submit:"Создать"},edit:{button:"Изменить",title:"Изменить запись",submit:"Изменить"},remove:{button:"Удалить",title:"Удалить",submit:"Удалить",confirm:{_:"Вы точно хотите удалить %d строк?",1:"Вы точно хотите удалить 1 строку?"}},multi:{restore:"Отменить изменения",title:"Несколько значений",info:"Выбранные элементы содержат разные значения для этого входа. Чтобы отредактировать и установить для всех элементов этого ввода одинаковое значение, нажмите или коснитесь здесь, в противном случае они сохранят свои индивидуальные значения.",noMulti:"Это поле должно редактироваться отдельно, а не как часть группы"},error:{system:'Возникла системная ошибка (<a target="\\" rel="nofollow" href="\\">Подробнее</a>).'}},searchPlaceholder:"Что ищете?",stateRestore:{creationModal:{button:"Создать",search:"Поиск",columns:{search:"Поиск по столбцам",visible:"Видимость столбцов"},name:"Имя:",order:"Сортировка",paging:"Страницы",scroller:"Позиция прокрутки",searchBuilder:"Редактор поиска",select:"Выделение",title:"Создать новое состояние",toggleLabel:"Включает:"},removeJoiner:"и",removeSubmit:"Удалить",renameButton:"Переименовать",duplicateError:"Состояние с таким именем уже существует.",emptyError:"Имя не может быть пустым.",emptyStates:"Нет сохраненных состояний",removeConfirm:"Вы уверены, что хотите удалить %s?",removeError:"Не удалось удалить состояние.",removeTitle:"Удалить состояние",renameLabel:"Новое имя для %s:",renameTitle:"Переименовать состояние"},thousands:" "}})}));